function resetClock(){var e=parseInt($("#session-length").text());timerOn=!1,currentTimer="Session",isPaused=!1,initialValue=60,currentTime=0,interval=0,breakMinutes=0,valueChanged=!1,$(".info").text("POMODORO"),10>e?$("#minutes").text("0"+e.toString()):$("#minutes").text(e.toString()),$("#seconds").text("00"),clearInterval(interval),$(".pause").fadeOut(),$(".stop").fadeOut(),$(".play").delay(400).fadeIn()}function startTimer(e,t,n,a){var s=e,r=e;$(".info").text(a);var i=setInterval(function(){interval=i,isPaused||valueChanged?(clearInterval(i),resetClock()):(currentTime=r,console.log(currentTime),s=110-100*(r/initialValue+.1),$(".bg-group").css("top",s+"%"),minutes=parseInt(r/60,10),seconds=parseInt(r%60,10),minutes=minutes<10?"0"+minutes:minutes,seconds=seconds<10?"0"+seconds:seconds,t.textContent=minutes,n.textContent=seconds,--r<0&&(r=0,0===r&&"Break"!==currentTimer?(initialValue=breakMinutes,clearInterval(i),startTimer(breakMinutes,t,n,"Break started"),currentTimer="Break"):($(".info").text("Break is over"),clearInterval(i),resetClock())))},1e3)}var timerOn=!1,currentTimer="Session",isPaused=!1,initialValue=0,currentTime=0,interval,breakMinutes=0,valueChanged=!1;$(document).ready(function(){resetClock(),displayMinute=document.querySelector("#minutes"),displaySecond=document.querySelector("#seconds"),$(".play").click(function(){var e,t=$("#session-length").text(),n=$("#break-length").text();breakMinutes=60*parseInt(n);var a=parseInt(t),s=$("#seconds").text();initialValue=60*a,"Break"===currentTimer&&(initialValue=breakMinutes),a=parseInt(a),s=parseInt(s),isNaN(a)&&(a=0),isNaN(s)&&(s=0),60===a&&(a=59),60===s&&(s=59),e=60*a+s,$(".play").fadeOut(),$(".pause").delay(400).fadeIn(),$(".stop").delay(400).fadeIn(),timerOn||isPaused?startTimer(currentTime,displayMinute,displaySecond,currentTimer+" started"):(timerOn=!0,startTimer(e,displayMinute,displaySecond,currentTimer+" started")),isPaused=!1,valueChanged=!1}),$(".pause").click(function(){$(".pause").fadeOut(),$(".play").delay(400).fadeIn(),$(".info").text(currentTimer+" paused"),clearInterval(interval),isPaused=!0}),$("#session-plus").click(function(){var e=$("#session-length"),t=parseInt(e.text());t++,e.text(t),10>t?$("#minutes").text("0"+t):$("#minutes").text(t),isPaused&&resetClock(),valueChanged=!0}),$("#session-minus").click(function(){var e=$("#session-length"),t=parseInt(e.text());t>1&&t--,e.text(t),10>t?$("#minutes").text("0"+t):$("#minutes").text(t),isPaused&&resetClock(),valueChanged=!0}),$("#break-plus").click(function(){var e=$("#break-length"),t=parseInt(e.text());t++,e.text(t),isPaused&&resetClock(),valueChanged=!0}),$("#break-minus").click(function(){var e=$("#break-length"),t=parseInt(e.text());t>1&&t--,e.text(t),isPaused&&resetClock(),valueChanged=!0}),$(".stop").click(function(){$(".pause").fadeOut(),$(".stop").fadeOut(),$(".play").delay(400).fadeIn(),resetClock(),valueChanged=!0})});